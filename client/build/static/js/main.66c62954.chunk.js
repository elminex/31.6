(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){e.exports=n(287)},123:function(e,t,n){},124:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},171:function(e,t){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},251:function(e,t,n){},254:function(e,t,n){},285:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(43),o=n.n(c),s=n(20),l=n(21),u=n(24),i=n(22),p=n(23),m=n(30),d=(n(123),function(e){e.links,e.location;return r.a.createElement("h1",{className:"logo"},"Blog.app")}),f=n(16),h=(n(124),function(e){var t=e.links,n=e.location;return r.a.createElement("ul",{className:"main-menu"},t.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(f.b,{className:n.pathname===e.path?"active":"",to:e.path},e.title))}))}),E=Object(m.f)(function(e){return r.a.createElement(h,e)}),b=(n(128),function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement(d,null),r.a.createElement(E,{links:[{path:"/",title:"Home"},{path:"/posts",title:"Posts"},{path:"/contact",title:"Contact"},{path:"/posts/new",title:"Add post"},{path:"/posts/random",title:"Load random post"}]}))}),v=(n(129),function(e){var t=e.children;return r.a.createElement("div",{className:"container-fluid"},t)}),g=function(e){var t=e.children;return r.a.createElement(v,null,r.a.createElement(b,null),t)},O=(n(130),function(e){var t=e.children;return r.a.createElement("h1",{className:"page-title"},t)}),P=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Contact Page"),r.a.createElement("p",null,"Your Favourite Blooger Ltd.",r.a.createElement("br",null),"9432 Division Street",r.a.createElement("br",null),"Stone Mountain, GA 30083",r.a.createElement("br",null),r.a.createElement("br",null),"Mobile Number: 207-914-3411",r.a.createElement("br",null)))},j=n(8),y=n(9),k=n.n(y),_=n(32),N=n(55),w=n(14),x=n(26),q=n.n(x),C="https://kodilla-mern-app.herokuapp.com",R=function(e){return e.posts.singlePost},S=function(e){return e.posts.request},A=function(e){var t=e.posts;return Math.ceil(t.amount/t.postsPerPage)},T=function(e){return"app/".concat("posts","/").concat(e)},D=T("START_REQUEST"),L=T("END_REQUEST"),I=T("LOAD_POSTS"),M=T("LOAD_POST"),B=T("ERROR_REQUEST"),U=T("RESET_REQUEST"),V=(T("EDIT_POST"),T("LOAD_POSTS_PAGE")),F=T("LOAD_VOTE"),Q=function(){return{type:D}},W=function(){return{type:L}},X=function(e){return{payload:e,type:M}},G=function(e){return{error:e,type:B}},J=function(){return{type:U}},H=function(e){return{payload:e,type:V}},Y={data:[],singlePost:{},amount:0,postsPerPage:10,presentPage:1,request:{pending:!1,error:null,success:null}};var z=function(e){return function(){var t=Object(_.a)(k.a.mark(function t(n){var a;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Q()),t.prev=1,t.next=4,q.a.get("".concat("/api","/posts/").concat(e));case 4:a=t.sent,n(X(a.data[0])),n(W()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(G(t.t0.message));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},K=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props.count;return e=0===t?"No posts":t,r.a.createElement("div",null,"Posts count: ",e)}}]),t}(r.a.Component),Z=Object(j.b)(function(e){return{count:(t=e,t.posts.data.length)};var t})(K),$=(n(152),n(85),n(25)),ee=(n(153),function(e){var t=e.children,n=Object($.a)(e,["children"]);return r.a.createElement("h2",Object.assign({},n,{className:"small-title"}),t)}),te=n(114),ne=n.n(te),ae=function(e){var t=e.children,n=Object($.a)(e,["children"]);return r.a.createElement("p",Object.assign({},n,{className:"html-box"}),ne()(t))};var re=function(e){var t=e.id,n=e.title,a=e.content,c=e.author;return r.a.createElement("article",{className:"post-summary"},r.a.createElement(ee,null,n),r.a.createElement("span",null,"Author: ",c),r.a.createElement(ae,null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;if(t<1)return"error";if(e.length>t){var n=e.substr(0,e.lastIndexOf(" ",t))+" ...";return n}return e}(a)),r.a.createElement(f.b,{className:"button button--primary",variant:"primary",to:"/posts/".concat(t)},"Read more"),r.a.createElement(f.b,{className:"button button--primary",variant:"primary",to:"/posts/edit/".concat(t)},"Edit post"))},ce=function(e){var t=e.posts;return r.a.createElement("div",null,r.a.createElement("section",{className:"posts-list"},t.map(function(e){return r.a.createElement(re,Object.assign({key:e.id},e))})))},oe=n(54),se=(n(240),function(){return r.a.createElement(oe.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),le=n(41),ue=(n(241),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object($.a)(e,["variant","children"]);return r.a.createElement(oe.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",Object.assign({},c,{className:"alert alert--".concat(n)}),function(){switch(n){case"info":return r.a.createElement(le.c,null);case"success":return r.a.createElement(le.a,null);case"warning":case"error":return r.a.createElement(le.b,null);default:return r.a.createElement(le.c,null)}}(),r.a.createElement("span",{className:"alert__desc"},a)))}),ie=(n(242),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this,e))).changePage=function(e){var t=n.props.onPageChange;n.setState({presentPage:e}),t(e)},n.state={presentPage:n.props.initialPage||1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.pages,a=t.show,c=this.state.presentPage,o=r.a.createElement("li",{className:"pagination__list__item",onClick:function(){return e.changePage(c-1)}},"<"),s=r.a.createElement("li",{className:"pagination__list__item",onClick:function(){return e.changePage(c+1)}},">");return a?r.a.createElement("div",{className:"pagination"},r.a.createElement("ul",{className:"pagination__list"},c>1?o:"",Object(N.a)(Array(n)).map(function(t,n){return r.a.createElement("li",{key:++n,onClick:function(){e.changePage(n)},className:"pagination__list__item".concat(n===c?" pagination__list__item--active":"")},n)}),c===n&&0!==n?"":s)):null}}]),t}(r.a.Component)),pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).loadPostsPage=function(e){var t=n.props;(0,t.loadPostsByPage)(e,t.postsPerPage)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadPostsByPage)(e.initialPage,e.postsPerPage)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetRequest)()}},{key:"render",value:function(){var e,t=this.props,n=t.posts,a=t.request,c=t.pages,o=t.pagination,s=t.initialPage;switch(!0){case!a.pending&&a.success&&n.length>0:e=r.a.createElement(ce,{posts:n});break;case!a.pending&&a.error:e=r.a.createElement(ue,{variant:"error"},a.error);break;case!a.pending&&a.success&&0===n.length:e=r.a.createElement(ue,{variant:"info"},"No posts");break;default:e=r.a.createElement(se,null)}return r.a.createElement("div",null,e,o?r.a.createElement(ie,{pages:c,onPageChange:this.loadPostsPage,show:a.success,initialPage:s}):"")}}]),t}(r.a.Component);pe.defaultProps={initialPage:1,postsPerPage:10,pagination:!0};var me=pe,de=Object(j.b)(function(e){return{posts:(t=e,t.posts.data),request:S(e),pages:A(e)};var t},function(e){return{resetRequest:function(){return e(J())},loadPostsByPage:function(t,n){return e(function(e,t){return function(){var n=Object(_.a)(k.a.mark(function n(a){var r,c,o,s;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(Q()),n.prev=1,r=(e-1)*t,c=t,n.next=6,q.a.get("".concat("/api","/posts/range/").concat(r,"/").concat(c));case 6:o=n.sent,s={posts:o.data.posts,amount:o.data.amount,postsPerPage:t,presentPage:e},a(H(s)),a(W()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),a(G(n.t0.message));case 15:case"end":return n.stop()}},n,null,[[1,12]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))}}})(me),fe=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Blog"),r.a.createElement(Z,null),r.a.createElement(de,{postsPerPage:3,pagination:!1}))},he=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Not Found"))},Ee=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Posts List"),r.a.createElement(Z,null),r.a.createElement(de,null))},be=n(53),ve=n(39),ge=(n(243),function(e){var t=e.value,n=e.label,a=e.onChange,c=Object($.a)(e,["value","label","onChange"]);return r.a.createElement("label",{className:"text-field"},r.a.createElement("span",{className:"text-field__label ".concat(!t.length>0?"text-field__label--big":"")},n),r.a.createElement("input",Object.assign({},c,{value:t,onChange:a,className:"text-field__input"})))}),Oe=(n(244),function(e){var t=e.children;return r.a.createElement("h2",{className:"section-title"},t)}),Pe=function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object($.a)(e,["variant","children"]);return r.a.createElement("button",Object.assign({},c,{className:"button button--".concat(n)}),a)},je=n(115),ye=n.n(je),ke=(n(249),n(250),n(251),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={post:{title:"",author:"",content:""}},n.handleChange=n.handleChange.bind(Object(ve.a)(n)),n.handleEditor=n.handleEditor.bind(Object(ve.a)(n)),n.addPost=n.addPost.bind(Object(ve.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.editMode&&this.setState({post:{title:this.props.singlePost.title,author:this.props.singlePost.author,content:this.props.singlePost.content}})}},{key:"componentWillUnmount",value:function(){(0,this.props.resetRequest)()}},{key:"handleChange",value:function(e){var t=this.state.post;this.setState({post:Object(w.a)({},t,Object(be.a)({},e.target.name,e.target.value))})}},{key:"handleEditor",value:function(e){var t=this.state.post;this.setState({post:Object(w.a)({},t,{content:e})})}},{key:"addPost",value:function(e){var t=this.state.post,n=this.props,a=n.addPost,r=n.editPost,c=n.editMode,o=n.id;e.preventDefault(),c?r(t,o):a(t)}},{key:"render",value:function(){var e,t=this.state.post,n=this.props,a=n.request,c=n.editMode;switch(!0){case a.success:e=r.a.createElement(ue,{variant:"success"},"Post has been added!");break;case a.error:e=r.a.createElement(ue,{variant:"error"},a.error);break;case a.pending:e=r.a.createElement(se,null);break;default:e=r.a.createElement("form",{onSubmit:this.addPost},r.a.createElement(ge,{value:t.title,label:"Title",onChange:this.handleChange,name:"title"}),r.a.createElement(ge,{value:t.author,label:"Author",onChange:this.handleChange,name:"author"}),r.a.createElement(Oe,null,"Post content"),r.a.createElement(ye.a,{className:"content-editor",tag:"pre",text:t.content,onChange:this.handleEditor,options:{placeholder:!1,toolbar:{buttons:["bold","italic","underline","anchor","h2","h3"]}}}),c?r.a.createElement(Pe,{variant:"primary"},"Edit post"):r.a.createElement(Pe,{variant:"primary"},"Add Post"))}return e}}]),t}(r.a.Component)),_e=Object(j.b)(function(e){return{request:S(e)}},function(e){return{addPost:function(t){return e(function(e){return function(){var t=Object(_.a)(k.a.mark(function t(n){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Q()),t.prev=1,t.next=4,q.a.post("".concat("/api","/posts"),e);case 4:n(W()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(G(t.t0.message));case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()}(t))},resetRequest:function(){return e(J())}}})(ke),Ne=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Add Post"),r.a.createElement(_e,null))},we=function(e){var t,n=e.match,c=e.resetRequest,o=e.editPost,s=e.loadPost,l=e.request,u=e.singlePost;Object(a.useEffect)(function(){return s(n.params.id),function(){return c()}},[s,n,c]);switch(!0){case l.success:t=r.a.createElement(ke,{editMode:!0,request:{success:null,pending:null,error:null},editPost:o,singlePost:u,resetRequest:c,id:n.params.id});break;case l.error:t=r.a.createElement(ue,{variant:"error"},l.error);break;default:t=r.a.createElement(se,null)}return r.a.createElement("div",null,r.a.createElement(O,null,"Edit Post"),t)},xe=Object(m.f)(Object(j.b)(function(e){return{request:S(e),singlePost:R(e)}},function(e){return{loadPost:function(t){return e(z(t))},editPost:function(t,n){return e(function(e,t){return console.log(e),function(){var n=Object(_.a)(k.a.mark(function n(a){var r;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(Q()),n.prev=1,n.next=4,q.a.post("".concat("/api","/posts/").concat(t),{post:e,id:t});case 4:return n.next=6,q.a.get("".concat("/api","/posts/").concat(t));case 6:r=n.sent,a(X(r.data[0])),a(W()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),a(G(n.t0.message));case 14:case"end":return n.stop()}},n,null,[[1,11]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))},resetRequest:function(){return e(J())}}})(we)),qe=n(56),Ce=n(44),Re=n(116),Se=(n(254),n(75)),Ae=function(e){var t=e.editAndLoadVotes,n=e.id,a=e.singlePost;console.log(a);var c=function(e){var r=a.votes;"up"===e?(r=1,console.log("+1")):(console.log("-1"),r=-1),console.log(r),t(n,r)};return r.a.createElement("div",null,"Votes: ",a.votes,r.a.createElement("button",{onClick:function(){return c("up")}},r.a.createElement(Ce.a,{icon:Se.b})),r.a.createElement("button",{onClick:function(){return c("down")}},r.a.createElement(Ce.a,{icon:Se.a})))},Te=Object(j.b)(function(e){return{singlePost:R(e),request:S(e)}},function(e){return{editAndLoadVotes:function(t,n){return e(function(e,t){return function(){var n=Object(_.a)(k.a.mark(function n(a){var r;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q.a.post("".concat("/api","/posts/votes/").concat(e),{votes:t,id:e});case 3:return n.next=5,q.a.get("".concat("/api","/posts/").concat(e));case 5:r=n.sent,a({payload:r.data[0].votes,type:F}),console.log(r.data[0].votes),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(G(n.t0.message));case 13:case"end":return n.stop()}},n,null,[[0,10]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))},resetRequest:function(){return e(J())}}})(Ae),De=function(e){var t=e.post,n=e.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null,t.title),r.a.createElement("span",null,"Author: ",t.author),r.a.createElement(ae,null,t.content),r.a.createElement(Te,{id:t.id,singlePost:t}),r.a.createElement(qe.FacebookProvider,{appId:"1211874079019883"},r.a.createElement(qe.ShareButton,{className:"fb-share-button",href:"".concat(C).concat(n.pathname)},r.a.createElement(Ce.a,{icon:Re.a,className:"fb-icon"}),"Share on Facebook"),r.a.createElement(qe.Comments,{href:"".concat(C).concat(n.pathname)})))},Le=Object(m.f)(function(e){return r.a.createElement(De,e)}),Ie=function(e){var t,n=e.loadPost,c=e.match,o=e.singlePost,s=e.request,l=e.resetRequest;switch(Object(a.useEffect)(function(){return n(c.params.id),function(){return l()}},[n,c,l]),!0){case s.success&&!s.pending:t=r.a.createElement(Le,{post:o});break;case!s.pending&&s.error:t=r.a.createElement(ue,{variant:"error"},s.error);break;case!s.pending&&s.success&&!o:t=r.a.createElement(ue,{variant:"error"},"Wygl\u0105da na to, \u017ce nic tu nie ma");break;default:t=r.a.createElement(se,null)}return r.a.createElement("div",null,t)},Me=Object(m.f)(Object(j.b)(function(e){return{singlePost:R(e),request:S(e)}},function(e){return{loadPost:function(t){return e(z(t))},resetRequest:function(){return e(J())}}})(Ie)),Be=function(e){var t,n=e.loadRandomPost,c=e.singlePost,o=e.request,s=e.resetRequest;switch(Object(a.useEffect)(function(){return n(),function(){return s()}},[n,s]),!0){case o.success&&!o.pending:t=r.a.createElement(Le,{post:c});break;case!o.pending&&o.error:t=r.a.createElement(ue,{variant:"error"},o.error);break;case!o.pending&&o.success&&!c:t=r.a.createElement(ue,{variant:"error"},"Wygl\u0105da na to, \u017ce nic tu nie ma");break;default:t=r.a.createElement(se,null)}return r.a.createElement("div",null,t)},Ue=Object(j.b)(function(e){return{singlePost:R(e),request:S(e)}},function(e){return{loadRandomPost:function(){return e(function(){var e=Object(_.a)(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Q()),e.prev=1,e.next=4,q.a.get("".concat("/api","/posts/random"));case 4:n=e.sent,t(X(n.data)),t(W()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(G(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}())},resetRequest:function(){return e(J())}}})(Be),Ve=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={posts:[]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:fe}),r.a.createElement(m.a,{path:"/contact",exact:!0,component:P}),r.a.createElement(m.a,{path:"/posts",exact:!0,component:Ee}),r.a.createElement(m.a,{path:"/posts/new",exact:!0,component:Ne}),r.a.createElement(m.a,{path:"/posts/edit/:id",component:xe}),r.a.createElement(m.a,{path:"/posts/random",component:Ue}),r.a.createElement(m.a,{path:"/posts/:id",component:Me}),r.a.createElement(m.a,{component:he})))}}]),t}(r.a.Component),Fe=(n(285),n(286),n(34)),Qe=n(117),We=Object(Fe.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case I:return Object(w.a)({},e,{data:t.payload});case M:return Object(w.a)({},e,{singlePost:t.payload});case D:return Object(w.a)({},e,{request:{pending:!0,error:null,success:null}});case L:return Object(w.a)({},e,{request:{pending:!1,error:null,success:!0}});case B:return Object(w.a)({},e,{request:{pending:!1,error:t.error,success:!1}});case U:return Object(w.a)({},e,{request:{pending:!1,error:null,success:null}});case V:return Object(w.a)({},e,{amount:t.payload.amount,postsPerPage:t.payload.postsPerPage,presentPage:t.payload.presentPage,data:Object(N.a)(t.payload.posts)});case F:return Object(w.a)({},e,{singlePost:Object(w.a)({},e.singlePost,{votes:t.payload})});default:return e}}}),Xe=Object(Fe.e)(We,Object(Fe.d)(Object(Fe.a)(Qe.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement(function(){return r.a.createElement(j.a,{store:Xe},r.a.createElement(f.a,null,r.a.createElement(Ve,null)))},null),document.getElementById("root"))},85:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.66c62954.chunk.js.map